<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Svět | Ordo Draconis</title>
  <link rel="stylesheet" href="../css/style.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&display=swap" rel="stylesheet">
</head>

<body>
<div class="layout">

  <!-- LEVÁ STRANA -->
  <div class="hero-bg hero-world"></div>

  <!-- PRAVÁ STRANA -->
  <aside class="right">

    <div class="side-header">
    <div class="side-logo">Ordo Draconis</div>
      <div class="top-actions">
        <div class="auth">
    <a href="/auth/register.html" class="btn">Registrace</a>
    <a href="/auth/login.html" class="btn">Přihlášení</a>
</div>
          <div class="lang">
          <a href="world.html" class="active">CS</a> |
          <a href="world-en.html">EN</a>

         <div class="server-status online">
         <span class="dot"></span>
         Online
         <span class="divider">·</span>
         <span class="players"></span>
          </div>
        </div>
      </div>
    </div>

    <nav class="side-nav">
      <a href="../index.html">Domů</a>
      <a href="server.html">O serveru</a>
      <a href="start.html">Začít hrát</a>
      <a href="world.html" class="active">Svět</a>
      <a href="donate.html">Donate</a>
    </nav>

    <div class="content-box">
      <h3>Svět</h3>
      <p>Svět Adenu, města, zóny, bossové.</p>
      <p>Tato část webu se teprve připravuje, čekáme na zpětnou vazbu co by vlastně hráci zde chtěli mít, např filtr lvl hráčů, pvp/pk bodů, počet adena atd.  </p>
    </div>

  </aside>
</div>
<script>
async function updateServerStatus() {
  try {
    const res = await fetch('/api/status.php');
    const data = await res.json();

    const dot = document.querySelector('.server-status .dot');
    const players = document.querySelector('.server-status .players');

    if (!dot || !players) return;

    if (data.online) {
      dot.style.background = '#2ecc71';
      players.textContent = data.players + ' Hráčů';
    } else {
      dot.style.background = '#e74c3c';
      players.textContent = 'Offline';
    }
  } catch (e) {
    console.error('Status error', e);
  }
}

updateServerStatus();
setInterval(updateServerStatus, 10000);
</script>

</body>
</html>
